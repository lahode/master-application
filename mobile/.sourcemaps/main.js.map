{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/core/app-state-module/index.ts","../../src/core/services/auth-service/auth.service.ts","../../src/core/services/endpoints.ts","../../src/core/services/storage-service/storage.service.ts","../../src/core/app-state-module/effects/auth.effects.ts","../../src/core/app-state-module/reducers/index.ts","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/core/app-state-module/actions/auth.actions.ts","../../src/app/app.module.ts","../../src/core/core.module.ts","../../src/core/app-state-module/app-state.module.ts","../../src/core/services/auth-service/authguard.service.ts","../../src/core/app-state-module/reducers/loadingReducer.ts","../../src/core/app-state-module/reducers/loadedReducer.ts","../../src/core/app-state-module/reducers/queryParamsReducer.ts","../../src/core/app-state-module/reducers/currentUserReducer.ts","../../src/core/app-state-module/reducers/authCheckedReducer.ts","../../src/core/app-state-module/reducers/errorReducer.ts","../../src/core/environment/environment.module.ts","../../src/core/environment/environment.token.ts","../../../environment/index.ts","../../../environment/development.ts","../../../environment/production.ts","../../src/app/app.component.ts","../../src/core/index.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 113;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 113\n// module chunks = 1","var map = {\n\t\"../pages/login/login.module\": [\n\t\t319,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 155;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 155\n// module chunks = 1","export { AppStateModule, providers } from './app-state.module';\nexport { AppStateI } from './app-state';\nexport { AuthActions } from './actions/auth.actions';\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/index.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { JwtHelper, AuthHttp } from 'angular2-jwt';\nimport { EndpointsService } from '../endpoints';\nimport { StorageService } from '../storage-service/storage.service';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/fromPromise';\n\nconst STORAGE_ITEM = 'jwt';\n\n@Injectable()\nexport class AuthService {\n\n  constructor(public readonly authHttp: AuthHttp,\n              private readonly http: Http,\n              private readonly endpoints: EndpointsService,\n              private readonly storage: StorageService,\n              private readonly jwtHelper: JwtHelper) {}\n\n  // Check authentification\n  public checkAuth(): Observable<any> {\n    return Observable.fromPromise(this.storage.get(STORAGE_ITEM)).mergeMap(jwt => {\n      // If storage is not found\n      if (!jwt || this.jwtHelper.isTokenExpired(jwt)) {\n        this.storage.remove(STORAGE_ITEM).then(() => true);\n        return Observable.of(false);\n      }\n\n      return this.authHttp.get(this.endpoints.getAuth())\n        .map(response => this.jwtHelper.decodeToken(jwt) /*response.json()*/ )\n        .catch(err => {\n          this.storage.remove(STORAGE_ITEM).then(() => true);\n          return Observable.throw(this.manageError(err))}\n        );\n    });\n  }\n\n  // Log in\n  public login(values: any): Observable<any> {\n    return this.http.post(this.endpoints.getLogin(), values)\n      .map(response => response.json())\n      .switchMap(jwt => this.handleJwtResponse(jwt.token))\n      .catch(err => {\n        this.storage.remove(STORAGE_ITEM).then(() => true);\n        return Observable.throw(this.manageError(err))}\n      );\n  }\n\n  // Log out\n  public logout() {\n    return Observable.fromPromise(this.storage.remove(STORAGE_ITEM).then(() => true));\n  }\n\n  // Sign up\n  public signup(values: any): Observable<any> {\n    return this.http.post(this.endpoints.getSignup(), values)\n      .map(response => response.json())\n      .switchMap(jwt => this.handleJwtResponse(jwt.token))\n      .catch(err => Observable.throw(this.manageError(err)));\n  }\n\n  // Save JWT Token and return user object\n  private handleJwtResponse(jwt: string): Observable<any> {\n    return Observable.from(\n      this.storage.set('jwt', jwt)\n        .then(\n          () => this.jwtHelper.decodeToken(jwt),\n          (err) => this.manageError(err)\n        )\n      );\n  }\n\n  // Manage back-end error\n  private manageError(err) {\n    if (err.ok === 0 && err.statusText.length === 0) {\n      err.statusText = 'Erreur de connexion avec le back-end';\n    }\n    return err;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/services/auth-service/auth.service.ts","/**\n * @Author: Nicolas Fazio <webmaster-fazio>\n * @Date:   21-09-2017\n * @Email:  contact@nicolasfazio.ch\n * @Last modified by:   webmaster-fazio\n * @Last modified time: 21-09-2017\n */\n\nimport { Injectable, Inject } from '@angular/core';\n\n// import { EnvVariables } from '../environment/environment.token';\n// import { IEnvironment } from '../environment';\n\n@Injectable()\nexport class EndpointsService {\n\n  _apiEndPoint: string;\n\n  constructor(/*@Inject(EnvVariables) public envVariables: IEnvironment*/) {\n    this._apiEndPoint = 'http://localhost:4300' // this.envVariables.apiEndpoint;\n  }\n\n  getAuth() {\n    return this._apiEndPoint + '/api/authenticate';\n  }\n\n  getLogin() {\n    return this._apiEndPoint + '/login';\n  }\n\n  getSignup() {\n    return this._apiEndPoint + '/signin';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/services/endpoints.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class StorageService {\n\n  public static getItem(itemName: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      resolve(JSON.parse(localStorage.getItem(itemName)));\n    });\n  }\n\n  public get(itemName: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      resolve(JSON.parse(localStorage.getItem(itemName)));\n    });\n  }\n\n  public set(itemName: string, itemToStore: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      localStorage.setItem(itemName, JSON.stringify(itemToStore));\n      resolve(null);\n    });\n  }\n\n  public remove(itemName: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      localStorage.removeItem(itemName);\n      resolve(null);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/services/storage-service/storage.service.ts","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Action } from '@ngrx/store';\nimport { Effect, Actions, toPayload } from '@ngrx/effects';\n\nimport { AuthActions } from '../actions/auth.actions';\nimport { AuthService } from '../../services/auth-service/auth.service';\n\n@Injectable()\nexport class AuthEffects {\n\n  // Listen for the 'CHECK_AUTH' action\n  @Effect() checkAuthAction$ = this.action$\n      .ofType(AuthActions.CHECK_AUTH)\n      .switchMap<Action, any>(() => this._auth.checkAuth())\n      .map<Action, any>((_result: any) => {\n        // If successful, dispatch CHECK_AUTH_SUCCESS action with result else CHECK_AUTH_NO_USER\n        if (_result) {\n          return <Action>{ type: AuthActions.CHECK_AUTH_SUCCESS, payload: _result };\n        } else {\n          return <Action>{ type: AuthActions.CHECK_AUTH_NO_USER, payload: null };\n        }\n        // On errors dispatch CHECK_AUTH_FAILED action with result\n      }).catch((res: any) => Observable.of({ type: AuthActions.CHECK_AUTH_FAILED, payload: res }));\n\n  // Listen for the 'LOGIN' action\n  @Effect() loginAction$ = this.action$\n      .ofType(AuthActions.LOGIN)\n      .map<Action, any>(toPayload)\n      .switchMap((payload: Observable<any>) => this._auth.login(payload))\n      .map<Action, any>((_result: any) => {\n        // If successful, dispatch LOGIN_SUCCESS\n        return <Action>{ type: AuthActions.LOGIN_SUCCESS, payload: _result };\n      })\n      // On errors dispatch LOGIN_FAILED action with result\n      .catch((res: any) => Observable.of({ type: AuthActions.LOGIN_FAILED, payload: res }));\n\n  // Listen for the 'LOGOUT' action\n  @Effect() logoutAction$ = this.action$\n      .ofType(AuthActions.LOGOUT)\n      .switchMap<Action, any>(() => this._auth.logout())\n      // If successful, dispatch success action with result\n      .map<Action, any>(() => {\n        return <Action>{ type: AuthActions.LOGOUT_SUCCESS, payload: null };\n      })\n      // On errors dispatch LOGOUT_FAILED action with result\n      .catch((res: any) => Observable.of({ type: AuthActions.LOGOUT_FAILED, payload: res }));\n\n  // Listen for the 'CREATE_USER' action\n  @Effect() createUserAction$ = this.action$\n      .ofType(AuthActions.CREATE_USER)\n      .map<Action, any>(toPayload)\n      .switchMap((payload: Observable<any>) => this._auth.signup(payload))\n      .map<Action, any>((_result: any) => {\n        // If successful, dispatch CREATE_USER_SUCCESS\n        return <Action>{ type: AuthActions.CREATE_USER_SUCCESS, payload: _result };\n      }).catch((res: any) => {\n        // On errors dispatch CREATE_USER_FAILED action with result\n        return Observable.of({ type: AuthActions.CREATE_USER_FAILED, payload: res });\n      });\n\n    constructor(\n      private action$: Actions,\n      private _auth: AuthService\n    ) {}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/effects/auth.effects.ts","import { ActionReducerMap, combineReducers, ActionReducer, Action } from '@ngrx/store';\nimport { storeFreeze } from 'ngrx-store-freeze';\n\nimport * as fromLoading from './loadingReducer';\nimport * as fromLoaded from './loadedReducer';\nimport * as fromQueryParams from './queryParamsReducer';\nimport * as fromCurrentUser from './currentUserReducer';\nimport * as fromAuthCheck from './authCheckedReducer';\nimport * as fromError from './errorReducer';\n\nimport { AppStateI, RecucerStateI } from '../app-state';\n\ndeclare const process: any;\n\n// const reducers: RecucerStateI = {\nconst reducers = {\n  loading: fromLoading.reducer,\n  loaded: fromLoaded.reducer,\n  queryParams: fromQueryParams.reducer,\n  authCheck: fromAuthCheck.reducer,\n  currentUser: fromCurrentUser.reducer,\n  error: fromError.reducer\n};\n\nconst developmentReducer: ActionReducerMap<AppStateI> = reducers;\nconst productionReducer: ActionReducerMap<AppStateI> = reducers;\n\n// export const reducer: ActionReducerMap<AppStateI> = process.env.IONIC_ENV === 'prod' ? productionReducer :  developmentReducer;\nexport const reducer: ActionReducerMap<AppStateI> = developmentReducer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/index.ts","/**\n* @Author: Nicolas Fazio <webmaster-fazio>\n* @Date:   26-05-2017\n* @Email:  contact@nicolasfazio.ch\n * @Last modified by:   webmaster-fazio\n * @Last modified time: 30-05-2017\n*/\n\nimport { Component, OnInit } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { Store, Action } from '@ngrx/store'\nimport { Observable } from 'rxjs/Rx';\n\nimport { AppStateI, AuthActions } from \"../../core\";\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n\n  public user:any;\n  public storeInfo:Observable<AppStateI>;\n\n  constructor(\n    public navCtrl: NavController,\n    private store: Store<any>,\n    private authActions: AuthActions,\n) {\n    // use the object in the template since it is an observable\n    this.storeInfo = this.store.select(state => state)\n  }\n\n  ngOnInit():void {\n  }\n\n  navToEdit(todo:any):void {\n    // console.log('navToEdit-> ', todo)\n    this.navCtrl.push('ItemEditPage', {\n      id: todo._id,\n      todo: todo\n    })\n  }\n\n  doLogout(){\n    this.store.dispatch(<Action>this.authActions.logout());\n  }\n\n  clearInput(todoInput:any):void{\n    todoInput.value = '';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable } from '@angular/core';\nimport { Action } from '@ngrx/store';\n\n/**\n * Add Todo to Todos Actions\n */\n@Injectable()\nexport class AuthActions {\n\n  static LOGIN:string = 'LOGIN';\n  static LOGIN_SUCCESS:string = 'LOGIN_SUCCESS';\n  static LOGIN_FAILED:string = 'LOGIN_FAILED';\n\n  static LOGOUT:string = 'LOGOUT';\n  static LOGOUT_SUCCESS:string = 'LOGOUT_SUCCESS';\n  static LOGOUT_FAILED:string = 'LOGOUT_FAILED';\n\n  static CHECK_AUTH:string = 'CHECK_AUTH';\n  static CHECK_AUTH_SUCCESS:string = 'CHECK_AUTH_SUCCESS';\n  static CHECK_AUTH_FAILED:string = 'CHECK_AUTH_FAILED';\n  static CHECK_AUTH_NO_USER:string = 'CHECK_AUTH_NO_USER';\n\n  static CREATE_USER:string = 'CREATE_USER';\n  static CREATE_USER_SUCCESS:string = 'CREATE_USER_SUCCESS';\n  static CREATE_USER_FAILED:string = 'CREATE_USER_FAILED';\n\n  login(_credentials ): Action {\n    return <Action>{\n      type: AuthActions.LOGIN,\n      payload: _credentials.value\n    };\n  }\n\n  checkAuth(): Action {\n    return <Action>{\n      type: AuthActions.CHECK_AUTH,\n    };\n  }\n\n  checkAuthNoUser(): Action {\n    return <Action>{\n      type: AuthActions.CHECK_AUTH_NO_USER,\n      payload: null\n    };\n  }\n\n  logout() {\n    return <Action>{\n      type: AuthActions.LOGOUT,\n    };\n  }\n\n  create_user(_credentials ): Action {\n    return <Action>{\n      type: AuthActions.CREATE_USER,\n      payload: _credentials.value\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/actions/auth.actions.ts","/**\n * @Author: Nicolas Fazio <webmaster-fazio>\n * @Date:   23-05-2017\n * @Email:  contact@nicolasfazio.ch\n * @Last modified by:   webmaster-fazio\n * @Last modified time: 10-08-2017\n */\n\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\nimport { CoreModule } from \"../core\";\n\nconst ionicAppConfig:Object = {\n  tabsPlacement: 'bottom',\n  mode: 'md'\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    CoreModule,\n    IonicModule.forRoot(MyApp, ionicAppConfig, \n{\n  links: [\n    { loadChildren: '../pages/login/login.module#LoginModule', name: 'LoginPage', segment: 'login', priority: 'low', defaultHistory: [] }\n  ]\n})\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AppStateModule, providers } from './app-state-module';\nimport { EnvironmentsModule } from './environment/environment.module';\nimport { AuthGuard } from './services/auth-service/authguard.service';\n\nimport { AuthEffects } from './app-state-module/effects/auth.effects';\nimport { reducer } from './app-state-module/reducers';\n\nexport const coreApp = {\n  reducer: reducer,\n  effect: AuthEffects,\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AppStateModule,\n    EnvironmentsModule\n  ]\n})\nexport class CoreModule {\n  static forRoot() {\n    return {\n      ngModule: CoreModule,\n      providers: [providers]\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/core.module.ts","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\n\nimport { AuthService } from '../services/auth-service/auth.service';\nimport { AuthGuard } from '../services/auth-service/authguard.service';\nimport { AuthEffects } from './effects/auth.effects';\nimport { reducer } from './reducers';\nimport { AuthActions } from './actions/auth.actions';\nimport { Http, HttpModule, RequestOptions } from '@angular/http';\nimport { JwtHelper, AuthHttp, AuthConfig } from 'angular2-jwt';\nimport { EndpointsService } from '../services/endpoints';\nimport { StorageService } from '../services/storage-service/storage.service';\n\nexport function authHttpServiceFactory(http: Http, options: RequestOptions) {\n  const authConfig = new AuthConfig({\n    noJwtError: true,\n    globalHeaders: [{'Accept': 'application/json'}],\n    tokenGetter: (() => StorageService.getItem('jwt')),\n  });\n  return new AuthHttp(authConfig, http, options);\n}\n\nexport const providers = [\n  AuthService,\n  EndpointsService,\n  StorageService,\n  AuthActions,\n  AuthGuard,\n  JwtHelper,\n  AuthHttp,\n  {\n    provide: AuthHttp,\n    useFactory: authHttpServiceFactory,\n    deps: [Http, RequestOptions]\n  }\n]\n\n@NgModule({\n  imports: [\n    StoreModule.forFeature('auth', reducer),\n    EffectsModule.forFeature([AuthEffects]),\n  ],\n})\nexport class AppStateModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/app-state.module.ts","/**\n * @Author: Nicolas Fazio <webmaster-fazio>\n * @Date:   21-09-2017\n * @Email:  contact@nicolasfazio.ch\n * @Last modified by:   webmaster-fazio\n * @Last modified time: 21-09-2017\n */\n\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\nimport { Store } from '@ngrx/store';\nimport { AppStateI } from '../../app-state-module';\n\n@Injectable()\nexport class AuthGuard {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/services/auth-service/authguard.service.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface ILoadingState extends Boolean {}\n\nexport const intitialState: ILoadingState = false;\n\nexport function reducer (state: ILoadingState = intitialState, action: any): ILoadingState {\n  switch (action.type) {\n    case AuthActions.CHECK_AUTH: {\n      return true;\n    }\n    case AuthActions.CHECK_AUTH_SUCCESS: {\n      return false;\n    }\n    case AuthActions.CHECK_AUTH_FAILED: {\n      return false;\n    }\n    case AuthActions.CHECK_AUTH_NO_USER: {\n      return false;\n    }\n\n    case AuthActions.LOGIN: {\n      return true;\n    }\n    case AuthActions.LOGIN_SUCCESS: {\n      return false;\n    }\n    case AuthActions.LOGIN_FAILED: {\n      return false;\n    }\n\n    case AuthActions.LOGOUT: {\n      return true;\n    }\n    case AuthActions.LOGOUT_SUCCESS: {\n      return false;\n    }\n\n    default: {\n      return <ILoadingState>state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/loadingReducer.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface ILoadedState extends Boolean {}\n\nexport const intitialState: ILoadedState = false;\n\nexport function reducer (state: ILoadedState = intitialState, action: any): ILoadedState {\n  switch (action.type) {\n    case AuthActions.CHECK_AUTH_SUCCESS: {\n      return true;\n    }\n    case AuthActions.CHECK_AUTH_FAILED: {\n      return false;\n    }\n    case AuthActions.CHECK_AUTH_NO_USER: {\n      return false;\n    }\n\n    case AuthActions.LOGIN: {\n      return false;\n    }\n    case AuthActions.LOGIN_SUCCESS: {\n      return true;\n    }\n    case AuthActions.LOGIN_FAILED: {\n      return false;\n    }\n\n    case AuthActions.LOGOUT: {\n      return false;\n    }\n    case AuthActions.LOGOUT_SUCCESS: {\n      return true;\n    }\n\n    default: {\n      return <ILoadedState>state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/loadedReducer.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface IqueryParamsState {\n  queryParams: {\n    path: string,\n    params?: Object\n  };\n}\n\nexport const intitialState: IqueryParamsState = {\n  queryParams: {path: '/'}\n};\n\nexport function reducer (state: IqueryParamsState = intitialState, action: any): IqueryParamsState {\n  switch (action.type) {\n    case AuthActions.LOGOUT_SUCCESS: {\n      return Object.assign({}, intitialState);\n    }\n    default: {\n      return <IqueryParamsState>state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/queryParamsReducer.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface ICurrentUserState extends Object {}\n\nexport const intitialState: ICurrentUserState = null;\n\nexport function reducer (state: ICurrentUserState = intitialState, action: any): ICurrentUserState {\n  switch (action.type) {\n    case AuthActions.LOGIN_SUCCESS: {\n      return Object.assign({}, state, action.payload);\n    }\n    case AuthActions.CHECK_AUTH_SUCCESS: {\n      return Object.assign({}, state, action.payload);\n    }\n    case AuthActions.LOGOUT_SUCCESS: {\n      return intitialState;\n    }\n\n    case AuthActions.CREATE_USER_SUCCESS: {\n      return Object.assign({},  action.payload);\n    }\n    default: {\n      return <ICurrentUserState>state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/currentUserReducer.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface IAuthCheckedState extends Boolean {}\n\nexport const initialState: IAuthCheckedState = false;\n\nexport function reducer (state: IAuthCheckedState = initialState, action: any): IAuthCheckedState {\n  switch (action.type) {\n    case AuthActions.LOGIN_SUCCESS: {\n      return true;\n    }\n\n    case AuthActions.CHECK_AUTH_SUCCESS: {\n      return true;\n    }\n\n    case AuthActions.CHECK_AUTH_FAILED: {\n      return false;\n    }\n\n    case AuthActions.LOGOUT_SUCCESS: {\n      return Object.assign(initialState);\n    }\n\n    default: {\n      return <IAuthCheckedState>state;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/authCheckedReducer.ts","import { Action } from '@ngrx/store';\nimport { AuthActions } from '../actions/auth.actions';\n\nexport interface IErrorState extends String {}\n\nexport const intitialState: IErrorState = null;\n\nexport function reducer (state: IErrorState = intitialState, action: any): IErrorState {\n  switch (action.type) {\n    case AuthActions.LOGIN_FAILED: {\n      return Object.assign(action.payload);\n    }\n    case AuthActions.LOGOUT_FAILED: {\n      return Object.assign(action.payload);\n    }\n    case AuthActions.CHECK_AUTH_FAILED: {\n      return Object.assign(action.payload);\n    }\n    case AuthActions.CREATE_USER_FAILED: {\n      return Object.assign(action.payload);\n    }\n    default: {\n      return <IErrorState>intitialState;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/app-state-module/reducers/errorReducer.ts","import { NgModule } from '@angular/core';\nimport { EnvVariables } from './environment.token';\nimport { devVariables, prodVariables, IEnvironment } from '../../../../environment';\n\ndeclare const process: any; // Typescript compiler will complain without this\n\nexport function environmentFactory(): IEnvironment {\n  let env: IEnvironment = process.env.IONIC_ENV === 'prod' ? prodVariables : devVariables;\n  process.env.IONIC_ENV != 'prod' ? console.info('env->', env) : console.info(\"env-> \", env.environmentName);\n  if (process.env.NODE_ENV === 'prod') {\n    env = prodVariables;\n  }\n  return env;\n}\n\n@NgModule({\n  providers: [\n    {\n      provide: EnvVariables,\n      useFactory: environmentFactory\n    }\n  ]\n})\nexport class EnvironmentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/environment/environment.module.ts","import { InjectionToken } from '@angular/core';\nimport { IEnvironment } from '../../../../environment';\n\nexport let EnvVariables = new InjectionToken<IEnvironment>( 'env.variables' );\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/environment/environment.token.ts","export { devVariables } from './development';\nexport { prodVariables } from './production';\nexport { IEnvironment } from './env-model';\n\n\n\n// WEBPACK FOOTER //\n// ../environment/index.ts","import { IEnvironment } from \"./env-model\";\n\nexport const devVariables:IEnvironment = {\n  environmentName: 'Development Environment',\n  ionicEnvName: 'dev',\n\n  // Front-end\n  apiEndpoint: 'http://localhost:4300',\n\n  // Back-end\n  dbHost: 'mongodb://localhost:27017',\n  dbName: 'test'\n};\n\n\n\n// WEBPACK FOOTER //\n// ../environment/development.ts","import { IEnvironment } from \"./env-model\";\n\nexport const prodVariables:IEnvironment = {\n  environmentName: 'Production Environment',\n  ionicEnvName: 'prod',\n\n  // Front-end\n  apiEndpoint: 'http://localhost:4400',\n\n  // Back-end\n  dbHost: 'mongodb://localhost:27017',\n  dbName: 'test'\n};\n\n\n\n// WEBPACK FOOTER //\n// ../environment/production.ts","/**\n * @Author: Nicolas Fazio <webmaster-fazio>\n * @Date:   26-05-2017\n * @Email:  contact@nicolasfazio.ch\n * @Last modified by:   webmaster-fazio\n * @Last modified time: 10-08-2017\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { Platform, AlertController } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { Store } from '@ngrx/store'\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthActions, AppStateI } from \"../core\";\n\nimport { HomePage } from '../pages/home/home';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp implements OnInit{\n\n  rootPage:any;\n  public storeInfo:Observable<AppStateI>;\n  public storeError:Observable<AppStateI>;\n\n  constructor(\n    platform: Platform,\n    statusBar: StatusBar,\n    splashScreen: SplashScreen,\n    public alertCtrl: AlertController,\n    private store: Store<any>,\n    private authActions: AuthActions\n  ) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n\n      this.storeError = this.store.select(state => state.error)\n      this.storeError.subscribe(error => {\n        if(error){\n          this.displayError(error)\n        }\n      })\n\n      this.storeInfo = this.store.select((state:AppStateI) => state.currentUser)\n      this.storeInfo.subscribe(currentUser => {\n\n        if (currentUser) {\n          // If logged in go to Home page\n          this.rootPage = HomePage;\n        }\n        else {\n          // If not logged in go to Login page\n          this.rootPage = 'LoginPage';\n        }\n      });\n    });\n  }\n\n  ngOnInit() {\n    this.rootPage = 'LoginPage';\n    this.store.dispatch(this.authActions.checkAuth());\n  }\n\n  displayError(error):void {\n    let alert = this.alertCtrl.create({\n      title: 'Error',\n      subTitle: error.toString(),\n      buttons: ['Dismiss']\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export { CoreModule, coreApp } from './core.module';\nexport { AppStateI, AuthActions } from './app-state-module';\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.ts"],"sourceRoot":""}