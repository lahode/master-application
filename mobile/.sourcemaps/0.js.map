{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts","../../src/models/user.model.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Login } from './login';\n\n@NgModule({\n  declarations: [\n    Login,\n  ],\n  imports: [\n    IonicPageModule.forChild(Login),\n  ],\n  exports: [\n    Login\n  ]\n})\nexport class LoginModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, AlertController } from 'ionic-angular';\nimport { Validators, FormBuilder } from '@angular/forms';\nimport { Store, Action } from '@ngrx/store'\n\nimport { AuthActions } from '../../core';\nimport { User } from '../../models/user.model';\n\n@IonicPage({\n  name: 'LoginPage',\n  segment: 'login'\n})\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class Login {\n\n  public loginBtn:boolean = true;\n  public pswRecover:boolean = false;\n  public registerForm:any;\n  public passwordForm:any;\n  public signInform:any;\n  public loader:any;\n  public errorMessage:any;\n\n  constructor(\n    public navCtrl: NavController,\n    private _formBuilder: FormBuilder,\n    public alertCtrl: AlertController,\n    public loadCtrl:LoadingController,\n    private store: Store<any>,\n    private authActions: AuthActions\n  ) {\n    // Define email validation pattern\n    let emailpattern = \"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\";\n\n    // Register form\n    this.registerForm = this._formBuilder.group({\n      name: ['', Validators.compose([Validators.required])],\n      username: ['', Validators.compose([Validators.required])],\n      email: ['', Validators.compose([Validators.required, Validators.pattern(emailpattern)])],\n      emailconfirm: ['', Validators.compose([Validators.required, Validators.pattern(emailpattern)])],\n      password: ['', Validators.compose([Validators.required])]\n    });\n\n    this.signInform = this._formBuilder.group({\n      username: ['', Validators.compose([Validators.required])],\n      password: ['', Validators.compose([Validators.required])]\n    });\n\n    // Password request form\n    this.passwordForm = this._formBuilder.group({\n      email: ['', Validators.compose([Validators.required, Validators.pattern(emailpattern)])],\n    });\n  }\n\n  onLogin(){\n    if (this.signInform.valid) {\n      this.store.dispatch(<Action>this.authActions.login(this.signInform.value));\n      this.signInform.reset();\n    }\n  }\n  onSignup(){\n    if (this.registerForm.valid) {\n      const newUser = new User(this.registerForm.value.username, this.registerForm.value.password,\n                            this.registerForm.value.name, this.registerForm.value.email);\n      this.store.dispatch(<Action>this.authActions.signup(newUser));\n      this.registerForm.reset();\n    }\n  }\n\n  // Request a new password\n  onRequestPassword() {\n    if (this.passwordForm.valid) {\n      this.store.dispatch(<Action>this.authActions.getPassword(this.passwordForm.value));\n      this.passwordForm.reset();\n    }\n    this.pswRecover = false;\n  }\n\n  toggleBtn(){\n    this.loginBtn = !this.loginBtn\n  }\n\n  showPasswordRecovery() {\n    this.pswRecover = !this.pswRecover;\n  }\n\n  /* ErrorHandler Methode */\n  showError(text:string,hideLoading:boolean=true):void {\n    if (hideLoading === true){\n      setTimeout(() => {\n        this.loader.dismiss();\n      });\n    }\n    let alert = this.alertCtrl.create({\n      title: 'Erreur',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","export class User {\n    constructor(public username: string,\n                public password: string,\n                public name?: string,\n                public email?: string) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.ts"],"sourceRoot":""}